<div class="flex">
  <!-- Sidebar -->
  <app-sidebar class="w-[260px] fixed h-screen z-20"></app-sidebar>

  <!-- Contenido Principal -->
  <div class="ml-[260px] p-6 w-full overflow-x-auto bg-white rounded-lg shadow-lg text-black">
    
    <div class="flex items-center justify-between flex-wrap md:flex-nowrap space-y-4 md:space-y-0 pb-4 bg-white rounded-t-lg">
      <div class="flex gap-2">
        <button class="px-4 py-2 bg-white border rounded shadow hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-100 font-medium text-sm text-black">
          <i class="fas fa-filter text-gray-500"></i> Filtros
        </button>
        <button routerLink="/newservicio" class="px-4 py-2 bg-green-500 text-white font-semibold rounded-lg shadow hover:bg-green-700">
          Crear Nuevo Servicio
        </button>  
      </div>

      <!-- Buscador -->
      <div class="relative w-64 mb-4">
        <span class="absolute inset-y-0 left-0 flex items-center pl-3">
          <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2"
            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 104.5 4.5a7.5 7.5 0 0012.15 12.15z"></path>
          </svg>
        </span>
        <input
          type="text"
          placeholder="Buscar Servicio"
          class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent text-black"
          [(ngModel)]="searchTerm"
        />
      </div>
    </div>

    <!-- Tabla -->
    <div class="overflow-x-auto bg-white rounded-lg shadow-md">
      <table class="w-full text-sm text-left text-gray-500">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
          <tr>
            <th class="p-4"></th>
            <th class="px-6 py-3">Nombre del Servicio</th>
            <th class="px-6 py-3">Descripción</th>
            <th class="px-6 py-3">Precio</th>
            <th class="px-6 py-3">Estado</th>
            <th class="px-6 py-3">Acción</th>
          </tr>
        </thead>
        <tbody class="bg-green-100">
          <tr *ngFor="let servicio of serviciosFiltrados; let i = index" class="bg-white border-b hover:bg-gray-50">
            <td class="w-4 p-4">
              <div class="flex items-center">
                <input [id]="'checkbox-' + i" type="checkbox"
                  class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500">
                <label [for]="'checkbox-' + i" class="sr-only">Seleccionar</label>
              </div>
            </td>
            <th scope="row" class="flex items-center px-6 py-4 font-medium text-black whitespace-nowrap">
              <div class="ps-3">
                <div class="text-base font-semibold">{{ servicio.nombre }}</div>
                <div class="font-normal text-gray-500">{{ servicio.descripcion }}</div>
              </div>
            </th>
            <td class="px-6 py-4 text-black">
              {{ servicio.descripcion }}
            </td>
            <td class="px-6 py-4 text-black">
              {{ servicio.precioBase | currency:'PEN' }}
            </td>
            <td class="px-6 py-4 text-black">
              <div class="flex items-center">
                <div class="h-2.5 w-2.5 rounded-full bg-green-500 me-2"></div>
                {{ servicio.estado || 'Visible' }}
              </div>
            </td>
            <td class="px-6 py-4 text-black flex gap-2">
              <button (click)="editarServicio(servicio)"
                class="font-medium text-blue-600 hover:underline flex items-center gap-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 3l4 4-10 10H5v-4L15 3z" />
                </svg>
              </button>

              <button (click)="eliminarServicio(servicio.id)"
                class="font-medium text-red-600 hover:underline flex items-center gap-1">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
